# ユーザ登録機能 ユニットテストケース一覧

## 機能概要
- 機能名：ユーザ登録(U01)
- 概要：ToDoアプリケーションの新規ユーザアカウント作成機能

## テストケース一覧

### 正常系テストケース

#### U01-C1001
- 正常系
- テスト観点
  - 正常なユーザ登録処理が完了すること
  - レスポンスのステータスコードが200であること
  - usersテーブルにレコードが正常に登録されること
- 入力値
  - username: TestUser01
  - password: Passw0rd!

### 異常系テストケース - 入力バリデーション

#### U01-E2001
- 異常系
  - バリデーションエラー（ユーザ名空文字）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0101」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: （空文字）
  - password: Passw0rd!

#### U01-E2002
- 異常系
  - バリデーションエラー（ユーザ名長すぎ）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0101」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: ThisIsAVeryLongUsernameExceeding50CharactersLimit
  - password: Passw0rd!

#### U01-E2003
- 異常系
  - バリデーションエラー（ユーザ名英数字以外）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0101」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: テストユーザー
  - password: Passw0rd!

#### U01-E2004
- 異常系
  - バリデーションエラー（パスワード空文字）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0102」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: TestUser01
  - password: （空文字）

#### U01-E2005
- 異常系
  - バリデーションエラー（パスワード短すぎ）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0102」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: TestUser01
  - password: Pass1!

#### U01-E2006
- 異常系
  - バリデーションエラー（パスワード長すぎ）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0102」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: TestUser01
  - password: ThisIsAVeryLongPasswordExceeding50CharactersLimit!

#### U01-E2007
- 異常系
  - バリデーションエラー（パスワード記号なし）
- テスト観点
  - バリデーションエラーが発生すること
  - エラーメッセージ「E-U0102」が出力されること
  - レスポンスのステータスコードが400であること
- 入力値
  - username: TestUser01
  - password: Password123

### 異常系テストケース - ユーザ名重複チェック

#### U01-E2008
- 異常系
  - ユーザ名重複エラー
- テスト観点
  - ユーザ名重複エラーが発生すること
  - エラーメッセージ「E-U0104」が出力されること
  - レスポンスのステータスコードが409であること
- 入力値
  - username: ExistingUser（既存ユーザ名）
  - password: Passw0rd!
- 備考
  - 事前にExistingUserが登録済みであること

#### U01-E2009
- 異常系
  - DB接続エラー（重複チェック時）
- テスト観点
  - DB接続エラーが発生すること
  - エラーメッセージ「E-U0103」が出力されること
  - レスポンスのステータスコードが500であること
- 入力値
  - username: TestUser01
  - password: Passw0rd!
- 備考
  - DBを停止またはアクセス不可状態にする

### 異常系テストケース - パスワードハッシュ化

#### U01-E2010
- 異常系
  - パスワードハッシュ化エラー
- テスト観点
  - パスワードハッシュ化エラーが発生すること
  - エラーメッセージ「E-U0105」が出力されること
  - レスポンスのステータスコードが500であること
- 入力値
  - username: TestUser01
  - password: Passw0rd!
- 備考
  - bcryptライブラリの動作を模擬的に失敗させる

### 異常系テストケース - DB登録

#### U01-E2011
- 異常系
  - DB接続エラー（登録時）
- テスト観点
  - DB接続エラーが発生すること
  - エラーメッセージ「E-U0106」が出力されること
  - レスポンスのステータスコードが500であること
- 入力値
  - username: TestUser01
  - password: Passw0rd!
- 備考
  - DBを停止またはアクセス不可状態にする

#### U01-E2012
- 異常系
  - DB登録エラー
- テスト観点
  - DB登録エラーが発生すること
  - エラーメッセージ「E-U0107」が出力されること
  - レスポンスのステータスコードが500であること
- 入力値
  - username: TestUser01
  - password: Passw0rd!
- 備考
  - テーブル権限エラーやディスク容量不足等を模擬

## テストケース統計
- 正常系：1ケース
- 異常系：11ケース
- 合計：12ケース