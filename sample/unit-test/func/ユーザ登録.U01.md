# ユーザ登録(U01) 単体テストケース一覧

## 正常系テスト

### U01-C1001
- 正常系
- テスト観点
    - ユーザ登録が正常に完了すること
    - レスポンスのステータスコードが201であること
    - ログメッセージ「I-U0001」が出力されること
- 入力値
    - username: testuser
    - password: password123

### U01-C1002
- 正常系
- テスト観点
    - ユーザ名に英数字とアンダースコアを含む場合も正常に登録されること
    - レスポンスのステータスコードが201であること
- 入力値
    - username: test_user_123
    - password: ValidPass123

### U01-C1003
- 正常系
- テスト観点
    - 最小文字数のユーザ名で正常に登録されること
    - レスポンスのステータスコードが201であること
- 入力値
    - username: a
    - password: minpasswd

### U01-C1004
- 正常系
- テスト観点
    - 最大文字数のユーザ名で正常に登録されること
    - レスポンスのステータスコードが201であること
- 入力値
    - username: abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTU (50文字)
    - password: password123

### U01-C1005
- 正常系
- テスト観点
    - 最小文字数のパスワードで正常に登録されること
    - レスポンスのステータスコードが201であること
- 入力値
    - username: testuser
    - password: pass1234 (8文字)

## 異常系テスト - バリデーションエラー

### U01-E2001
- 異常系
    - ユーザ名バリデーションエラー（空文字）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0001」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: （空文字）
    - password: password123

### U01-E2002
- 異常系
    - ユーザ名バリデーションエラー（51文字以上）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0001」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUV (51文字)
    - password: password123

### U01-E2003
- 異常系
    - ユーザ名バリデーションエラー（不正文字含む）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0001」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: test@user
    - password: password123
- 備考
    - 英数字とアンダースコア以外の文字を含む

### U01-E2004
- 異常系
    - ユーザ名バリデーションエラー（ハイフン含む）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0001」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: test-user
    - password: password123

### U01-E2005
- 異常系
    - ユーザ名バリデーションエラー（日本語含む）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0001」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: テストユーザ
    - password: password123

### U01-E2006
- 異常系
    - パスワードバリデーションエラー（空文字）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0002」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: testuser
    - password: （空文字）

### U01-E2007
- 異常系
    - パスワードバリデーションエラー（7文字以下）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0002」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: testuser
    - password: pass123 (7文字)

### U01-E2008
- 異常系
    - パスワードバリデーションエラー（256文字以上）
- テスト観点
    - バリデーションエラーが発生すること
    - エラーメッセージ「E-U0002」が出力されること
    - レスポンスのステータスコードが400であること
- 入力値
    - username: testuser
    - password: 256文字以上の長い文字列
- 備考
    - 255文字を超える文字列を設定

### U01-E2009
- 異常系
    - ユーザ名重複エラー
- テスト観点
    - 重複チェックエラーが発生すること
    - エラーメッセージ「E-U0004」が出力されること
    - レスポンスのステータスコードが409であること
- 入力値
    - username: existing_user
    - password: password123
- 備考
    - 事前に同じユーザ名でユーザを登録しておく

## 異常系テスト - システムエラー

### U01-E3001
- 異常系
    - DB接続エラー（重複チェック時）
- テスト観点
    - DB接続エラーが発生すること
    - エラーメッセージ「E-U0003」が出力されること
    - レスポンスのステータスコードが500であること
- 入力値
    - username: testuser
    - password: password123
- 備考
    - DBへの接続を意図的に切断した状態でテスト

### U01-E3002
- 異常系
    - パスワードハッシュ化エラー
- テスト観点
    - ハッシュ化処理エラーが発生すること
    - エラーメッセージ「E-U0005」が出力されること
    - レスポンスのステータスコードが500であること
- 入力値
    - username: testuser
    - password: password123
- 備考
    - bcryptライブラリの処理を意図的に失敗させる

### U01-E3003
- 異常系
    - DB登録エラー
- テスト観点
    - DB登録エラーが発生すること
    - エラーメッセージ「E-U0006」が出力されること
    - レスポンスのステータスコードが500であること
- 入力値
    - username: testuser
    - password: password123
- 備考
    - DBテーブルをロックした状態でテスト