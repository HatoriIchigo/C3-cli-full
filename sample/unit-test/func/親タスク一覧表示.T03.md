# 親タスク一覧表示(T03) テストケース一覧

## 正常系テスト

### T03-C1001
- 正常系
- テスト観点
    - 親タスク一覧の取得が正常に完了すること
    - レスポンスのステータスコードが200であること
    - 作成日時の降順でソートされること
    - 適切なフィールドが返却されること（parent_task_id, title, description, status, created_at, updated_at）
- 入力値
    - Authorization: Bearer 有効なJWTトークン
- 期待値
    - HTTPステータス: 200
    - レスポンス: タスク一覧（配列形式、created_at降順）
    - ログ: I-T0003

### T03-C1002
- 正常系（タスクが0件）
- テスト観点
    - タスクが0件の場合も正常処理として空配列が返却されること
    - レスポンスのステータスコードが200であること
- 入力値
    - Authorization: Bearer 有効なJWTトークン（タスクを持たないユーザ）
- 期待値
    - HTTPステータス: 200
    - レスポンス: 空配列 []
    - ログ: I-T0003

### T03-C1003
- 正常系（複数タスク）
- テスト観点
    - 複数のタスクが作成日時の降順でソートされて返却されること
    - 他ユーザのタスクは含まれないこと
- 入力値
    - Authorization: Bearer 有効なJWTトークン（複数タスクを持つユーザ）
- 期待値
    - HTTPステータス: 200
    - レスポンス: タスク一覧（created_at降順、該当ユーザのタスクのみ）
    - ログ: I-T0003
- 備考
    - 事前に複数のタスクを異なる時刻で作成しておく

## 異常系テスト（認証エラー）

### T03-E2001
- 異常系
    - 認証トークンなし
- テスト観点
    - 認証トークンが提供されていない場合のエラー処理
    - エラーメッセージ「E-T0015」が出力されること
    - レスポンスのステータスコードが401であること
- 入力値
    - Authorization: なし
- 期待値
    - HTTPステータス: 401
    - ログ: E-T0015

### T03-E2002
- 異常系
    - 無効な認証トークン
- テスト観点
    - 無効な認証トークンの場合のエラー処理
    - エラーメッセージ「E-T0016」が出力されること
    - レスポンスのステータスコードが401であること
- 入力値
    - Authorization: Bearer 無効なトークン
- 期待値
    - HTTPステータス: 401
    - ログ: E-T0016

### T03-E2003
- 異常系
    - 期限切れの認証トークン
- テスト観点
    - 期限切れの認証トークンの場合のエラー処理
    - エラーメッセージ「E-T0016」が出力されること
    - レスポンスのステータスコードが401であること
- 入力値
    - Authorization: Bearer 期限切れのトークン
- 期待値
    - HTTPステータス: 401
    - ログ: E-T0016

## 異常系テスト（データベースエラー）

### T03-E2004
- 異常系
    - DB接続エラー
- テスト観点
    - DB接続エラー時のエラー処理
    - エラーメッセージ「E-T0017」が出力されること
    - レスポンスのステータスコードが500であること
- 入力値
    - Authorization: Bearer 有効なJWTトークン
- 期待値
    - HTTPステータス: 500
    - ログ: E-T0017
- 備考
    - DBを停止して実行

### T03-E2005
- 異常系
    - DB取得処理エラー
- テスト観点
    - DB取得処理でエラーが発生した場合のエラー処理
    - エラーメッセージ「E-T0018」が出力されること
    - レスポンスのステータスコードが500であること
- 入力値
    - Authorization: Bearer 有効なJWTトークン
- 期待値
    - HTTPステータス: 500
    - ログ: E-T0018
- 備考
    - SQLクエリ実行時にエラーが発生する状況を想定

## 境界値テスト

### T03-C2001
- 正常系（境界値）
- テスト観点
    - 大量のタスクがある場合も正常に取得できること
    - パフォーマンスが問題ないこと
- 入力値
    - Authorization: Bearer 有効なJWTトークン（1000件のタスクを持つユーザ）
- 期待値
    - HTTPステータス: 200
    - レスポンス: 1000件のタスク一覧（created_at降順）
    - ログ: I-T0003
- 備考
    - 事前に1000件のタスクを作成しておく

## セキュリティテスト

### T03-S3001
- セキュリティ
    - 他ユーザのタスク非表示
- テスト観点
    - 認証ユーザ以外のタスクが返却されないこと
    - ユーザの分離が適切に行われること
- 入力値
    - Authorization: Bearer 有効なJWTトークン（ユーザA）
- 期待値
    - HTTPステータス: 200
    - レスポンス: ユーザAのタスクのみ（ユーザBのタスクは含まれない）
    - ログ: I-T0003
- 備考
    - 事前に複数ユーザのタスクを作成しておく